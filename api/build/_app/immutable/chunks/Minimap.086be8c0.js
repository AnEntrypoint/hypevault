import{s as ie,f as K,g as Q,h as Z,d as I,j as M,W as H,k as u,i as U,B as Ve,z as G,A as E,o as Ge,Y as ee,a as we,c as ye,v as x,G as Pe,e as Y,I as je}from"./scheduler.a4eb8230.js";import{S as ne,i as re,g as oe,c as te,a as V,t as X,b as Ie,d as ze,m as Me,e as qe}from"./index.c4a4c7bc.js";import{D as v,E as ke,G as Ce}from"./index.8eebef2a.js";import{g as Le,a as Oe}from"./input.2c03c06d.js";import{c as Ye}from"./Call.df60cc05.js";function Ue(o){let e,t=`${o[13]}px`,i=`${o[15]}px`,s=`${o[16]}px`,n=`rotate(${o[10]}deg)`,h=`${o[11].y-o[3]}px`,d=`${o[11].x-o[4]}px`,_,p;return{c(){e=K("button"),this.h()},l(f){e=Q(f,"BUTTON",{class:!0}),Z(e).forEach(I),this.h()},h(){M(e,"class","minimap-node svelte-1hs9omb"),H(e,"hidden",o[1]),H(e,"hideable",o[6]),u(e,"z-index",o[12]),u(e,"border-radius",t),u(e,"--prop-background-color",o[5]||o[14]||!o[8]&&o[7]||null),u(e,"width",i),u(e,"height",s),u(e,"transform",n),u(e,"top",h),u(e,"left",d)},m(f,a){U(f,e,a),_||(p=Ve(e,"click",o[25]),_=!0)},p(f,[a]){a&2&&H(e,"hidden",f[1]),a&64&&H(e,"hideable",f[6]),a&4096&&u(e,"z-index",f[12]),a&8192&&t!==(t=`${f[13]}px`)&&u(e,"border-radius",t),a&16800&&u(e,"--prop-background-color",f[5]||f[14]||!f[8]&&f[7]||null),a&32768&&i!==(i=`${f[15]}px`)&&u(e,"width",i),a&65536&&s!==(s=`${f[16]}px`)&&u(e,"height",s),a&1024&&n!==(n=`rotate(${f[10]}deg)`)&&u(e,"transform",n),a&2056&&h!==(h=`${f[11].y-f[3]}px`)&&u(e,"top",h),a&2064&&d!==(d=`${f[11].x-f[4]}px`)&&u(e,"left",d)},i:G,o:G,d(f){f&&I(e),_=!1,p()}}}function Xe(o,e,t){let i,s,n,h,d,_,p,f=G,a=()=>(f(),f=ee(n,g=>t(12,p=g)),n),w,C,S,y;o.$$.on_destroy.push(()=>f());let{node:k}=e,{hidden:B=!1}=e,{toggleHidden:N}=e,{top:c}=e,{left:l}=e,{nodeColor:r=null}=e,{hideable:b}=e;const{position:W,dimensions:R,bgColor:q,borderRadius:z,rotation:D}=k;E(o,W,g=>t(24,_=g)),E(o,q,g=>t(14,C=g)),E(o,z,g=>t(13,w=g)),E(o,D,g=>t(23,d=g));const{width:P,height:A}=R;E(o,P,g=>t(15,S=g)),E(o,A,g=>t(16,y=g));let j=null;Ge(()=>{var g;try{const T=(g=document.querySelector(`#${k.id}`))==null?void 0:g.firstChild;T&&t(7,j=window.getComputedStyle(T).backgroundColor)}catch(T){console.error(T)}});const F=()=>{b&&N(k)};return o.$$set=g=>{"node"in g&&t(0,k=g.node),"hidden"in g&&t(1,B=g.hidden),"toggleHidden"in g&&t(2,N=g.toggleHidden),"top"in g&&t(3,c=g.top),"left"in g&&t(4,l=g.left),"nodeColor"in g&&t(5,r=g.nodeColor),"hideable"in g&&t(6,b=g.hideable)},o.$$.update=()=>{o.$$.dirty&16777216&&t(11,i=_),o.$$.dirty&8388608&&t(10,s=d),o.$$.dirty&1&&a(t(9,n=k.zIndex)),o.$$.dirty&128&&t(8,h=j==="rgba(0, 0, 0, 0)")},[k,B,N,c,l,r,b,j,h,n,s,i,p,w,C,S,y,W,q,z,D,P,A,d,_,F]}class Fe extends ne{constructor(e){super(),re(this,e,Xe,Ue,ie,{node:0,hidden:1,toggleHidden:2,top:3,left:4,nodeColor:5,hideable:6})}}function Je(o){let e,t;return{c(){e=K("div"),this.h()},l(i){e=Q(i,"DIV",{class:!0,id:!0,style:!0}),Z(e).forEach(I),this.h()},h(){M(e,"class","mini-bounding-box svelte-aoq4g"),M(e,"id",t=`mini-${o[2]}-bounding-box`),u(e,"border","solid 4px "+o[8]),u(e,"top",`${o[5].y-o[3]}px`),u(e,"left",`${o[5].x-o[4]}px`),u(e,"width",`${o[6]}px`),u(e,"height",`${o[7]}px`),u(e,"background-color",o[8])},m(i,s){U(i,e,s)},p(i,[s]){s&4&&t!==(t=`mini-${i[2]}-bounding-box`)&&M(e,"id",t),s&256&&u(e,"border","solid 4px "+i[8]);const n=s&256;(s&296||n)&&u(e,"top",`${i[5].y-i[3]}px`),(s&304||n)&&u(e,"left",`${i[5].x-i[4]}px`),(s&320||n)&&u(e,"width",`${i[6]}px`),(s&384||n)&&u(e,"height",`${i[7]}px`),(s&256||n)&&u(e,"background-color",i[8])},i:G,o:G,d(i){i&&I(e)}}}function Ke(o,e,t){let i,s=G,n=()=>(s(),s=ee(w,c=>t(5,i=c)),w),h,d,_,p=G,f=()=>(p(),p=ee(C,c=>t(8,_=c)),C);o.$$.on_destroy.push(()=>s()),o.$$.on_destroy.push(()=>p());let{dimensions:a}=e,{position:w}=e;n();let{color:C}=e;f();let{groupName:S}=e,{top:y}=e,{left:k}=e;const{width:B,height:N}=a;return E(o,B,c=>t(6,h=c)),E(o,N,c=>t(7,d=c)),o.$$set=c=>{"dimensions"in c&&t(11,a=c.dimensions),"position"in c&&n(t(0,w=c.position)),"color"in c&&f(t(1,C=c.color)),"groupName"in c&&t(2,S=c.groupName),"top"in c&&t(3,y=c.top),"left"in c&&t(4,k=c.left)},[w,C,S,y,k,i,h,d,_,B,N,a]}class Qe extends ne{constructor(e){super(),re(this,e,Ke,Je,ie,{dimensions:11,position:0,color:1,groupName:2,top:3,left:4})}}function Ne(o,e,t){const i=o.slice();return i[52]=e[t][0],i[53]=e[t][1],i}function Ee(o,e,t){const i=o.slice();return i[52]=e[t][0],i[56]=e[t][1],i}function Se(o){let e,t;return e=new Fe({props:{node:o[56],top:o[11],left:o[10],nodeColor:o[3],hidden:o[13].has(o[56]),toggleHidden:o[24],hideable:o[6]}}),{c(){Ie(e.$$.fragment)},l(i){ze(e.$$.fragment,i)},m(i,s){Me(e,i,s),t=!0},p(i,s){const n={};s[0]&16384&&(n.node=i[56]),s[0]&2048&&(n.top=i[11]),s[0]&1024&&(n.left=i[10]),s[0]&8&&(n.nodeColor=i[3]),s[0]&24576&&(n.hidden=i[13].has(i[56])),s[0]&64&&(n.hideable=i[6]),e.$set(n)},i(i){t||(V(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function We(o,e){let t,i,s,n=e[56].id!=="N-editor"&&Se(e);return{key:o,first:null,c(){t=Y(),n&&n.c(),i=Y(),this.h()},l(h){t=Y(),n&&n.l(h),i=Y(),this.h()},h(){this.first=t},m(h,d){U(h,t,d),n&&n.m(h,d),U(h,i,d),s=!0},p(h,d){e=h,e[56].id!=="N-editor"?n?(n.p(e,d),d[0]&16384&&V(n,1)):(n=Se(e),n.c(),V(n,1),n.m(i.parentNode,i)):n&&(oe(),X(n,1,1,()=>{n=null}),te())},i(h){s||(V(n),s=!0)},o(h){X(n),s=!1},d(h){h&&(I(t),I(i)),n&&n.d(h)}}}function Be(o,e){let t,i,s;const n=[e[53],{top:e[11]},{left:e[10]},{groupName:e[52]}];let h={};for(let d=0;d<n.length;d+=1)h=je(h,n[d]);return i=new Qe({props:h}),{key:o,first:null,c(){t=Y(),Ie(i.$$.fragment),this.h()},l(d){t=Y(),ze(i.$$.fragment,d),this.h()},h(){this.first=t},m(d,_){U(d,t,_),Me(i,d,_),s=!0},p(d,_){e=d;const p=_[0]&35840?Le(n,[_[0]&32768&&Oe(e[53]),_[0]&2048&&{top:e[11]},_[0]&1024&&{left:e[10]},_[0]&32768&&{groupName:e[52]}]):{};i.$set(p)},i(d){s||(V(i.$$.fragment,d),s=!0)},o(d){X(i.$$.fragment,d),s=!1},d(d){d&&I(t),qe(i,d)}}}function Ze(o){let e,t,i=[],s=new Map,n,h=[],d=new Map,_=`${o[9]}px`,p=`${o[8]}px`,f=`scale(${o[7]})`,a,w,C=`${o[0]}px`,S=`${o[1]?o[1]:o[0]}px`,y,k=v(Array.from(o[14].entries()));const B=l=>l[52];for(let l=0;l<k.length;l+=1){let r=Ee(o,k,l),b=B(r);s.set(b,i[l]=We(b,r))}let N=v(Array.from(o[15].entries()));const c=l=>l[52];for(let l=0;l<N.length;l+=1){let r=Ne(o,N,l),b=c(r);d.set(b,h[l]=Be(b,r))}return{c(){e=K("div"),t=K("div");for(let l=0;l<i.length;l+=1)i[l].c();n=we();for(let l=0;l<h.length;l+=1)h[l].c();a=we(),w=K("div"),this.h()},l(l){e=Q(l,"DIV",{class:!0});var r=Z(e);t=Q(r,"DIV",{class:!0});var b=Z(t);for(let W=0;W<i.length;W+=1)i[W].l(b);n=ye(b);for(let W=0;W<h.length;W+=1)h[W].l(b);b.forEach(I),a=ye(r),w=Q(r,"DIV",{class:!0,style:!0}),Z(w).forEach(I),r.forEach(I),this.h()},h(){M(t,"class","node-wrapper svelte-1qxvbux"),u(t,"width",_),u(t,"height",p),u(t,"transform",f),M(w,"class","overlay svelte-1qxvbux"),M(w,"style",o[12]),M(e,"class","minimap-wrapper svelte-1qxvbux"),H(e,"SW",o[5]==="SW"),H(e,"NE",o[5]==="NE"),H(e,"SE",o[5]==="SE"),H(e,"NW",o[5]==="NW"),u(e,"width",C),u(e,"height",S),u(e,"--prop-minimap-border-color",o[4]),u(e,"--prop-minimap-background-color",o[2])},m(l,r){U(l,e,r),x(e,t);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(t,null);x(t,n);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(t,null);x(e,a),x(e,w),y=!0},p(l,r){r[0]&16804936&&(k=v(Array.from(l[14].entries())),oe(),i=ke(i,r,B,1,l,k,s,t,Ce,We,n,Ee),te()),r[0]&35840&&(N=v(Array.from(l[15].entries())),oe(),h=ke(h,r,c,1,l,N,d,t,Ce,Be,null,Ne),te()),r[0]&512&&_!==(_=`${l[9]}px`)&&u(t,"width",_),r[0]&256&&p!==(p=`${l[8]}px`)&&u(t,"height",p),r[0]&128&&f!==(f=`scale(${l[7]})`)&&u(t,"transform",f),(!y||r[0]&4096)&&M(w,"style",l[12]),(!y||r[0]&32)&&H(e,"SW",l[5]==="SW"),(!y||r[0]&32)&&H(e,"NE",l[5]==="NE"),(!y||r[0]&32)&&H(e,"SE",l[5]==="SE"),(!y||r[0]&32)&&H(e,"NW",l[5]==="NW"),r[0]&1&&C!==(C=`${l[0]}px`)&&u(e,"width",C),r[0]&3&&S!==(S=`${l[1]?l[1]:l[0]}px`)&&u(e,"height",S),r[0]&16&&u(e,"--prop-minimap-border-color",l[4]),r[0]&4&&u(e,"--prop-minimap-background-color",l[2])},i(l){if(!y){for(let r=0;r<k.length;r+=1)V(i[r]);for(let r=0;r<N.length;r+=1)V(h[r]);y=!0}},o(l){for(let r=0;r<i.length;r+=1)X(i[r]);for(let r=0;r<h.length;r+=1)X(h[r]);y=!1},d(l){l&&I(e);for(let r=0;r<i.length;r+=1)i[r].d();for(let r=0;r<h.length;r+=1)h[r].d()}}}const He=.9;function xe(o,e,t){let i,s,n,h,d,_,p,f,a,w,C,S,y,k,B,N,c,l,r,b,W,R,q,z,D,P,A,j,F,g,T,L=Pe("graph"),{width:O=100}=e,{height:J=O}=e,{mapColor:le=null}=e,{nodeColor:se=null}=e,{borderColor:he=null}=e,{corner:de="SE"}=e,{hideable:ue=!1}=e;const De=O*He,Re=J*He,fe=L.bounds.graphBounds;E(o,fe,m=>t(45,F=m));const ge=L.nodes;E(o,ge,m=>t(14,g=m));const me=L.groups;E(o,me,m=>t(46,j=m));const ae=L.transforms,_e=L.dimensions;E(o,_e,m=>t(44,A=m));const $=j.hidden.nodes;E(o,$,m=>t(13,z=m));const ce=ae.scale;E(o,ce,m=>t(42,D=m));const be=ae.translation;E(o,be,m=>t(43,P=m));const pe=L.groupBoxes;E(o,pe,m=>t(15,T=m));const Ae={clientX:0,clientY:0};function Te(m){z.has(m)?z.delete(m):z.add(m),$.set(z)}return o.$$set=m=>{"width"in m&&t(0,O=m.width),"height"in m&&t(1,J=m.height),"mapColor"in m&&t(2,le=m.mapColor),"nodeColor"in m&&t(3,se=m.nodeColor),"borderColor"in m&&t(4,he=m.borderColor),"corner"in m&&t(5,de=m.corner),"hideable"in m&&t(6,ue=m.hideable)},o.$$.update=()=>{o.$$.dirty[1]&16384&&t(41,i=F),o.$$.dirty[1]&1024&&t(11,s=i.top),o.$$.dirty[1]&1024&&t(10,n=i.left),o.$$.dirty[1]&1024&&t(40,h=i.right),o.$$.dirty[1]&1024&&t(39,d=i.bottom),o.$$.dirty[1]&8192&&t(38,_=A.width),o.$$.dirty[1]&8192&&t(37,p=A.height),o.$$.dirty[0]&1024|o.$$.dirty[1]&512&&t(9,f=h-n),o.$$.dirty[0]&2048|o.$$.dirty[1]&256&&t(8,a=d-s),o.$$.dirty[0]&768&&t(31,w=f/a),o.$$.dirty[0]&3&&t(30,C=O/J),o.$$.dirty[1]&6336&&t(36,S=Ye(Ae,0,0,_,p,D,P)),o.$$.dirty[0]&512|o.$$.dirty[1]&2176&&t(33,y=_/f/D),o.$$.dirty[0]&256|o.$$.dirty[1]&2112&&t(32,k=p/a/D),o.$$.dirty[0]&2304|o.$$.dirty[1]&32&&t(35,B=(S.y-s)/a),o.$$.dirty[0]&1536|o.$$.dirty[1]&32&&t(34,N=(S.x-n)/f),o.$$.dirty[0]&1073741824|o.$$.dirty[1]&1&&t(29,l=w>=C),o.$$.dirty[0]&536871680&&t(7,r=l?De/f:Re/a),o.$$.dirty[0]&384&&t(25,q=a*r),o.$$.dirty[0]&33554434&&t(27,W=(J-q)/2),o.$$.dirty[0]&640&&t(26,R=f*r),o.$$.dirty[0]&67108865&&t(28,b=(O-R)/2),o.$$.dirty[0]&503316480|o.$$.dirty[1]&30&&t(12,c=`
		top: ${W+B*q}px;
		left: ${b+N*R}px;
		width: ${y*R}px;
		height: ${k*q}px;`)},[O,J,le,se,he,de,ue,r,a,f,n,s,c,z,g,T,fe,ge,me,_e,$,ce,be,pe,Te,q,R,W,b,l,C,w,k,y,N,B,S,p,_,d,h,i,D,P,A,F]}class io extends ne{constructor(e){super(),re(this,e,xe,Ze,ie,{width:0,height:1,mapColor:2,nodeColor:3,borderColor:4,corner:5,hideable:6},null,[-1,-1])}}export{io as default};
